/* Here is the 'CHALKING-UP' of the online program file. */

echo '<!DOCTYPE html>' > HW_project_online.html;
echo '<head>' >> HW_project_online.html;
echo '<meta charset="UTF-8">' >> HW_project_online.html;
echo '<meta name="description" content="This is the best HTML drafting progam ever devised. There are no near-competitors. High-priced proprietary programs are nothing compared to HDUB. It works right in the browser, offline. FREE FOREVER, PERIOD.">' >> HW_project_online.html;
echo '<meta name="robots" content="index, follow">' >> HW_project_online.html;
echo '<meta name="geo.position" content="0;0"><meta name="geo.region" content="001"><meta name="geo.placename" content="Earth">' >> HW_project_online.html;
echo '<meta property="og:title" content="HDUB html drafting program. Drag Images in. Keyboard Just like VI."><meta property="og:description" content="This is the best HTML drafting progam ever devised. There are no near-competitors. High-priced proprietary programs are nothing compared to HDUB. It works right in the browser, offline. FREE FOREVER, PERIOD."><meta property="og:type" content="website"><meta property="og:locale" content="en_CA">' >> HW_project_online.html;
echo '<meta property="og:url" content="https://dckim.com/HW_project_online.html">' >> HW_project_online.html;
echo '<meta property="og:image" content="https://dckim.com/images/HW_online.png">' >> HW_project_online.html;
echo '<meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="HDUB html drafting program. Drag Images in. Keyboard Just like VI."><meta name="twitter:description" content="This is the best HTML drafting progam ever devised. There are no near-competitors. High-priced proprietary programs are nothing compared to HDUB. It works right in the browser, offline. FREE FOREVER, PERIOD."><meta name="twitter:image" content="https://dckim.com/images/HW_online.png">' >> HW_project_online.html;
echo '<meta name="mobile-web-app-capable" content="yes">' >> HW_project_online.html;
echo '<meta name="handheldfriendly" content="true">' >> HW_project_online.html;
echo '<meta name="author" content="DCKIM Mystery Author">' >> HW_project_online.html;
echo '<link rel="apple-touch-icon" sizes="180x180" href="/images/android-chrome-512x512.png">' >> HW_project_online.html;
echo '<link rel="apple-touch-icon" sizes="192x192" href="/images/android-chrome-192x192.png">' >> HW_project_online.html;
echo '<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">' >> HW_project_online.html;
echo '<link rel="icon" type="image/images/png" sizes="32x32" href="/images/favicon-32x32.png">' >> HW_project_online.html;
echo '<link rel="icon" type="image/images/png" sizes="16x16" href="/images/favicon-16x16.png">' >> HW_project_online.html;
echo '<link rel="canonical" href="https://dckim.com/HW_project_online.html">' >> HW_project_online.html;
echo '<style>' >> HW_project_online.html;
echo '/* html, body           { cursor: none;                                          } */' >> HW_project_online.html;
echo 'html, body              { overflow: scroll; scrollbar-width: none;               }' >> HW_project_online.html;
echo 'body                    {                         width: 98%; height: 98%;       }' >> HW_project_online.html;
echo 'p                       { margin: 0;                                             }' >> HW_project_online.html;
echo 'body::-webkit-scrollbar { display: none;                                         }' >> HW_project_online.html;
echo '</style>' >> HW_project_online.html;
echo '<link rel="stylesheet" href="./e_stylesheets/style.css"/>' >> index.html;
echo '<title id="documentTitle">emptyFile</title>' >> HW_project_online.html;
echo '</head>' >> HW_project_online.html;
echo '<body>' >> HW_project_online.html;

echo '<div id="utilityLayer0" ></div>' >> HW_project_online.html;
echo '<div id="utilityLayer1" ></div>' >> HW_project_online.html;
echo '<div id="gridLayer"     ></div>' >> HW_project_online.html;
echo '<div id="mouseIconLayer"></div>' >> HW_project_online.html;

echo '<div id="scripts">' >> HW_project_online.html;
echo 'const' > ./hw/z_hwObject/a_hwObject.js;
echo 'hw = {};' >> ./hw/z_hwObject/a_hwObject.js;
find hw/a_programFunctions/ | sed "s/$/ = {};/g" | sed "s/\.js = {};//g" | tr '/' '.' | sed "s/\. / /g" > pasteFirst;
find hw/a_programFunctions/ | sed "s/^.*_/ = /g" | sed "s/\.js/;/g" > pasteLast;
paste pasteFirst pasteLast | sed "s/;.*$/;/g" >> ./hw/z_hwObject/a_hwObject.js;
rm pasteFirst pasteLast;

sed -i "s/\.\././g" ./hw/z_hwObject/a_hwObject.js;
sed -i '/js\.swp/d' ./hw/z_hwObject/a_hwObject.js;

find hw -type f | sed '/js\.swp/d' | sed 's/^/<script src=".\//g' | sed 's/$/"><\/script>/g' >> HW_project_online.html;
echo '<script src="./hw/c_handlers/c_initialization/c_insertNewWindow.js"></script>' >> HW_project_online.html;

echo '</div>' >> HW_project_online.html;
echo '</body>' >> HW_project_online.html;
echo '</html>' >> HW_project_online.html;




/* Here is the 'CHALKING-UP' of the index file. */

echo '<!DOCTYPE html>' > index.html;
echo '<head>' >> index.html;
echo '<meta charset="UTF-8">' >> index.html;
echo '<style>' >> index.html;
echo '/* html, body           { cursor: none;                                          } */' >> index.html;
echo 'html, body              { overflow: scroll; scrollbar-width: none;               }' >> index.html;
echo 'body                    {                         width: 98%; height: 98%;       }' >> index.html;
echo 'p                       { margin: 0;                                             }' >> index.html;
echo 'body::-webkit-scrollbar { display: none;                                         }' >> index.html;
echo '</style>' >> index.html;
echo '<link rel="stylesheet" href="./e_stylesheets/style.css"/>' >> index.html;
echo '<title id="documentTitle">emptyFile</title>' >> index.html;
echo '</head>' >> index.html;
echo '<body>' >> index.html;

echo '<div id="utilityLayer0" ></div>' >> index.html;
echo '<div id="utilityLayer1" ></div>' >> index.html;
echo '<div id="gridLayer"     ></div>' >> index.html;
echo '<div id="mouseIconLayer"></div>' >> index.html;

echo '<div id="scripts">' >> index.html;
find hw -type f | sed '/js\.swp/d' | sed 's/^/<script src=".\//g' | sed 's/$/"><\/script>/g' >> index.html;
echo '<script src="./hw/c_handlers/c_initialization/c_insertNewWindow.js"></script>' >> index.html;

echo '</div>' >> index.html;
echo '</body>' >> index.html;
echo '</html>' >> index.html;












/* When we use insertWindow, we are actually writing the index.html file again to that new window. */

echo 'function insertNewWindow(keyInfo,refresh) {' > c_insertNewWindow.js;
echo 'const' >> c_insertNewWindow.js;
echo 'e      = keyInfo[0],' >> c_insertNewWindow.js;
echo 'kC     = keyInfo[1],' >> c_insertNewWindow.js;
echo 'cC     = keyInfo[2],' >> c_insertNewWindow.js;
echo 'shift  = keyInfo[3],' >> c_insertNewWindow.js;
echo 'ctrl   = keyInfo[4],' >> c_insertNewWindow.js;
echo 'alt    = keyInfo[5];' >> c_insertNewWindow.js;
echo 'const wH = window.innerHeight;' >> c_insertNewWindow.js;
echo 'const wW = window.innerwidth;' >> c_insertNewWindow.js;
echo 'const fileContentsReference =' >> c_insertNewWindow.js;
echo -n "\`" >> c_insertNewWindow.js;
cat index.html >> c_insertNewWindow.js;
echo -n "\`;" >> c_insertNewWindow.js;
echo 'let iS = 192;' >> c_insertNewWindow.js;
echo '/*    I    */ if (kC ==  73 && cC ==  73) { window.children[window.children.length] = window.open("","_blank",`height=${window.innerHeight + 1},width=${iS + 1},top=${window.screenTop},left=${window.screenLeft - iS},resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    O    */ if (kC ==  79 && cC ==  79) { window.children[window.children.length] = window.open("","_blank",`height=${iS + 1},width=${window.innerWidth + 1},top=${window.screenTop + window.innerHeight},left=${window.screenLeft},resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    A    */ if (kC ==  65 && cC ==  65) { window.children[window.children.length] = window.open("","_blank",`height=${window.innerHeight + 1},width=${iS + 1},top=${window.screenTop},left=${window.screenLeft + window.innerWidth},resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    i    */ if (kC ==  73 && cC == 105) { window.children[window.children.length] = window.open("","_blank",`height=${window.innerHeight + 1},width=${iS + 1},top=${window.screenTop},left=0,resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    o    */ if (kC ==  79 && cC == 111) { window.children[window.children.length] = window.open("","_blank",`height=${iS + 1},width=${window.innerWidth + 1},top=${window.screenTop - iS},left=${window.screenLeft},resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    a    */ if (kC ==  65 && cC ==  97) { window.children[window.children.length] = window.open("","_blank",`height=${window.innerHeight + 1},width=${iS + 1},top=${window.screenTop},left=${screen.width - iS},resizable=yes,noopener=no`); }' >> c_insertNewWindow.js;
echo '/*    n    */ if (kC ==  78 && cC == 110) { window.children[window.children.length] = window.open("","_blank"); }' >> c_insertNewWindow.js;
echo '/* REFRESH */ if (refresh==true)          { window.children[window.children.length] = window.open("","_blank",`height=${window.innerHeight},width=${window.innerWidth},top=${window.screenTop},left=${window.screenLeft},resizable=yes,noopener=no`); window.close(); }' >> c_insertNewWindow.js;

echo 'window.children[window.children.length - 1].document.write(fileContentsReference);' >> c_insertNewWindow.js;
echo 'try {' >> c_insertNewWindow.js;
echo 'for (let j = 0; j < window.parents.length; j++) {' >> c_insertNewWindow.js;
echo 'window.parents[j].children[window.parents[j].children.length] = window.children[window.children.length - 1];' >> c_insertNewWindow.js;
echo '}' >> c_insertNewWindow.js;
echo '} catch {}' >> c_insertNewWindow.js;
echo '}' >> c_insertNewWindow.js;

mv c_insertNewWindow.js ./hw/c_handlers/c_initialization/;







/* Here is a nifty tree representation, self-contained, searchable in the browser, with clickable links. */

echo '<!DOCTYPE html>' > hw_treeDiagram.html;
echo "<body>" >> hw_treeDiagram.html;
echo '<pre style="font-size: 24px; font-style: italic; color: rgb(64,64,64);">' >> hw_treeDiagram.html;
echo '<span style="font-size: 48px; color: #DEFF1C;">HW TREE DIAGRAM</span>' >> hw_treeDiagram.html;
find hw/ | sed 's/\(^.*\/\)\(.*$\)/\1<a style="color: #DEFF1C; font-style: normal; font-weight: bold;" href="\1\2">\2<\/a>/g' | sed '/\.js/!i <a>' >> hw_treeDiagram.html;
echo "</pre>" >> hw_treeDiagram.html;
echo "<script>" >> hw_treeDiagram.html;
echo "document.body.style.backgroundColor = 'black';" >> hw_treeDiagram.html;
echo "</script>" >> hw_treeDiagram.html;
echo "</body>" >> hw_treeDiagram.html;
echo "</html>" >> hw_treeDiagram.html;


/* Here we are setting the permissions completely, which will help when it comes to compressing the file. */

find . -type f -exec chmod 644 {} +;
find . -type d -exec chmod 755 {} +;
echo "... all done! HW_project_online.html and c_insertNewWindow.js are revised and all permissions are set ...";
